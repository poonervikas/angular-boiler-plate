<div class="container">
    <div class="row">
        <div class="col-md-4 offset-md-4 formContainer">
            <div class="alert alert-danger" *ngIf="errorMessage" role="alert">
                {{errorMessage}}
              </div>
            <h3 class="text-center">Register</h3>
            
            <form [formGroup]="registrationForm" (ngSubmit)="onSubmit()">
                <mat-form-field class="full-width" appearance="fill">
                    <mat-label>Enter your username</mat-label>
                    <input 
                    matInput 
                    type="text"
                    formControlName="username"
                    placeholder="e.g. John Wick"
                    > 
                    <mat-error *ngIf="username.invalid && username.touched">
                    <mat-error *ngIf="username.errors['required']" >**Username is required</mat-error> 
                    <mat-error *ngIf="!username.errors['required'] && username.errors['invalidUsername']" >**Minimum 3 characters are Required (only letters)</mat-error>
                    </mat-error> 
                </mat-form-field>
                <mat-form-field class="full-width" appearance="fill">
                    <mat-label>Enter your email</mat-label>
                    <input 
                    matInput 
                    formControlName="email"
                    placeholder="e.g. pat@example.com" 
                    type="email" 
                    >
                    <mat-error *ngIf="email.invalid && email.touched">
                        <mat-error *ngIf="email.errors['required']" >**Email is required</mat-error> 
                        <mat-error *ngIf="!email.errors['required'] && email.errors['email']" >**Please Enter a valid email-id</mat-error> 
                    </mat-error>
                </mat-form-field>
                <mat-form-field class="full-width" appearance="fill">
                    <mat-label>Enter your password</mat-label>
                    <input 
                    matInput [type]="hide ? 'password' : 'text'"
                    
                    formControlName="password">
                    <button mat-icon-button matSuffix (click)="hide = !hide" [attr.aria-label]="'Hide password'"
                        [attr.aria-pressed]="hide">
                        <mat-icon>{{hide ? 'visibility_off' : 'visibility'}}</mat-icon>
                    </button>

                    <mat-error *ngIf="password.invalid && password.touched">
                        <mat-error *ngIf="password.errors['required']" >**Password is required</mat-error> 
                        <mat-error *ngIf="!password.errors['required'] && password.errors['invalidPassword']" >**Atleast 8 characters(1 (a-z), (A-Z), (0-9) each) Required</mat-error> 
                    </mat-error>
                </mat-form-field>
                <mat-form-field class="full-width" appearance="fill">
                    <mat-label>Confirm your password</mat-label>
                    <input 
                    matInput [type]="hide2 ? 'password' : 'text'"
                    
                    formControlName="confirmPassword">
                    <button mat-icon-button matSuffix (click)="hide2 = !hide2" [attr.aria-label]="'Hide password'"
                        [attr.aria-pressed]="hide2">
                        <mat-icon>{{hide2 ? 'visibility_off' : 'visibility'}}</mat-icon>
                    </button>
                    <mat-error *ngIf="confirmPassword.invalid && confirmPassword.touched">
                        <mat-error *ngIf="confirmPassword.errors['required']" >**Confirm Password is required</mat-error> 
                    </mat-error>
                    <!-- <mat-error *ngIf="((confirmPassword.valid) && (!confirmPassword.untouched)  && (registrationForm.errors==null?false:true))">
                        <span>dhdhdffffffffffffffffffffffffffffffffffffffffffffffhdhdh</span>
                        <mat-error *ngIf="registrationForm.errors['passwordMismatch']" >**Both the passwords must be same</mat-error> 
                    </mat-error> -->
                    <mat-error>
                        <span>dhdhdffffffffffffffffffffffffffffffffffffffffffffffhdhdh</span>
                        <mat-error *ngIf="confirmError" >**Both the passwords must be same</mat-error> 
                    </mat-error>
                </mat-form-field>
                <div class="container text-center mt-20">
                    <button mat-raised-button class="bdr-rds-25 mr-10" [disabled]='!registrationForm.valid' color="primary">Submit</button>
                    <button mat-raised-button (click)="test()" class="bdr-rds-25 ml-10" color="warn">Reset</button>
                </div>
            </form>
            {{registrationForm.value|json}}
        </div>
    </div>

</div>